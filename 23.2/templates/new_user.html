{% extends "base.html" %}

{% block header %}
    {% if user is defined %}
        <title>Blogly - Editing {{user.full_name}}</title>
    {% else %}
        <title>Blogly - New User</title>
    {% endif %}
{% endblock header %}

{% block content %}
    <div class="container">
        {% include "errors.html" %}
        
        {% if user is defined %}
            <h1>Edit a user</h1>
        {% else %}
            <h1>Create a user</h1>
        {% endif %}

        <form
            method="POST"
        {% if user is defined %}
            action="/users/{{user.id}}/edit"
        {% else %}
            action="/users/new"
        {% endif %}
        >
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input
                    type="text"
                    id="first_name"
                {% if user is defined %}
                    value="{{user.first_name}}"
                {% endif %}
                    name="first_name"
                    placeholder="Enter a first name"
                    class="form-control"
                    required
                >
            </div>

            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input
                    type="text"
                    id="last_name"
                {% if user is defined %}
                    value="{{user.last_name}}"
                {% endif %}
                    name="last_name"
                    placeholder="Enter a last name"
                    class="form-control"
                    required
                >
            </div>

            <div class="form-group">
                <label for="image_url">Image URL</label>
                <input
                    type="text"
                    id="image_url"
                {% if user is defined %}
                    value="{{user.image_url}}"
                {% endif %}
                    name="image_url"
                    placeholder="Provide an image of this user (optional)"
                    class="form-control"
                >
            </div>

            <input
                type="submit"
                class="btn btn-success float-right"
            {% if user is defined %}
                value="Save"
            {% else %}
                value="Add"
            {% endif %}
            >
        </form>
    </div>
{% endblock content %}
